<div class="page">
	<h1>
		{{title}}
		<span class="btn btn-link"
		   popover-template="'js/angular/templates/titlePopoverTemplate.html'"
		   popover-trigger="mouseenter"
		   popover-placement="bottom-right"
		   popover-append-to-body="true"><span class="icon-info"></span></span>
	</h1>

	<tabset>
		<tab>
		   <tab-heading class="nav-item"><span class="nav-link">Application info</span></tab-heading>
			<div class="list-group border-top-0">
				<div class="list-group-item">
					<div class="row">
						<div class="col-md-4">
							<h5 class="list-group-item-heading">GraphDB</h5>
							<p class="list-group-item-text">{{graphdbVersion}}</p>
						</div>
						<div class="col-md-4">
							<h5 class="list-group-item-heading">RDF4J</h5>
							<p class="list-group-item-text">{{sesameVersion}}</p>
						</div>
						<div class="col-md-4">
							<h5 class="list-group-item-heading">Connectors</h5>
							<p class="list-group-item-text">{{connectorsVersion}}</p>
						</div>
					</div>
				</div>
				<div class="list-group-item">
					<div class="row">
						<div class="col-md-4">
							<h5 class="list-group-item-heading">OS</h5>
							<p class="list-group-item-text">{{info.osVersion}}</p>
						</div>
						<div class="col-md-4">
							<h5 class="list-group-item-heading">Java</h5>
							<p class="list-group-item-text">{{info.javaVersion}}</p>
						</div>
						<div class="col-md-4">
							<h5 class="list-group-item-heading">Heap memory</h5>
							<p class="list-group-item-text">{{info.usedMemory}} out of {{info.maxMemory}}</p>
						</div>
					</div>
				</div>
				<div class="list-group-item">
					<h5>
						Server report
						<button type="button" ng-click="isHelpVisible = !isHelpVisible" class="btn btn-link">
							<span class="icon-help"></span>
						</button>
					</h5>

					<div collapse="!isHelpVisible" class="alert alert-info">
						<button type="button" ng-click="isHelpVisible = false" tooltip="Close" class="close"
								aria-label="Close"></button>
						A server report is a .zip file that contains various bits of information that help with diagnosing problems.
						The file will contain:
						<ul>
							<li>The JVM stack strace</li>
							<li>The content of the SYSTEM repository</li>
							<li>Directory listings of various GraphDB directories</li>
							<li>The latest log files</li>
						</ul>
					</div>

					<div class="lead">
						<span ng-show="status === 'NONE'">No previous report found.</span>
						<span ng-show="status === 'IN_PROGRESS'"><i class="icon-reload loader"></i> Report is being generated...</span>
						<span ng-show="status === 'ERROR'"><i class="icon-warning"></i> Error: {{errorMessage}}</span>
						<span ng-show="status === 'READY'">Last report was generated {{timestamp | date:"'on' yyyy-MM-dd 'at' HH:mm"}}</span>
					</div>

					<div ng-show="status === 'ERROR' && timestamp > 0">
						Previous report available, generated {{timestamp | date:"'on' yyyy-MM-dd 'at' HH:mm"}}
					</div>

					<div class="pt-1 pb-3">
						<div class="btn-group">
							<button class="btn btn-primary mr-1" ng-click="makeReport()" ng-disabled="status === 'IN_PROGRESS'" tooltip="Generates a new server report">
								<i class="icon-monitoring"></i>
								New report
							</button>
							<button class="btn btn-primary" ng-click="getReport()" ng-disabled="status === 'IN_PROGRESS' || !(timestamp > 0)" tooltip="Download the latest report file">
								<i class="icon-download"></i>
								Download
							</button>
						</div>
					</div>

				</div>
			</div>

		</tab>
		<tab>
		   <tab-heading class="nav-item"><span class="nav-link">JVM Arguments</span></tab-heading>
			<ul class="list-group border-top-0">
				<li ng-repeat="argument in info.jvmArguments" class="list-group-item">{{argument}}</li>
			</ul>
		</tab>
		<tab>
		   <tab-heading class="nav-item"><span class="nav-link">Configuration Parameters</span></tab-heading>
			<ul class="list-group border-top-0">
				<li ng-repeat="property in info.properties" class="list-group-item">
					<div class="row">
						<span class="col-md-5">{{property.key}}</span>
						<span class="col-md-5 expandable">{{property.value}}</span>
						<span class="col-md-2 force-wrap">{{property.source}}</span>
					</div>
				</li>
			</ul>
		</tab>
	</tabset>




</div>